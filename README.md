# Movies-explorer-api
Бэкенд дипломного проекта Я.Практикум  
[Домен сервера](https://api.migel.nomoredomains.work)
 - Публичный IP: 51.250.100.41
 - Выпущен SSL-сертификат

---

## Инструкция по запуску проекта:
Разработка велась на `Node.js v14.18.0`

Установка зависимостей:

```
npm install
```

Запуск сервера:

```
npm run start
```

Запуск сервера в режиме разработки с hot-reload:

```
npm run dev
```

---

## Функционал API:
* регистрация и авторизация пользователя
* получение и обновление информации профиля пользователя
* создание, получение и удаление списка фильмов индивидуально для каждого пользователя

## Маршруты:
* POST `/signup` - создаёт пользователя по модели User (email, password, name)
* POST `/signin` - проверяет переданные в теле email и password и возвращает JWT
* GET `/users/me` - возвращает информацию о пользователе (email и name)
* PATCH `/users/me` - обновляет информацию о пользователе (email и name)
* GET `/movies` - возвращает все сохранённые пользователем фильмы
* POST `/movies` - создаёт фильм по модели Movie
* DELETE `/movies/:movieId` - удаляет сохранённый фильм по id

---

## Структура проекта и технологии:

### Файловая структура:
* `/controllers` - содержит контроллеры `users` и `movies`
* `/errors` - содержит классы ошибок, расширяющие конструктор `Error`
* `/middlewares` - содержит модули обработчиков
* `/models` - содержит описание схем mongoose `user` и `movie`
* `/routes` - содержит файлы роутов `users` и `movies`, роуты подключены в файле `index.js`

### Технологии:
* `express` - основной фреймворк
* `MongoDB` и `mongoose` - для работы с базой данных
* `celebrate` и `validator` - для валидирования входящих данных
* `helmet` - для установки заголовков, связанных с безопасностью
* `express-rate-limit` - для ограничения числа запросов с одного IP
* `bcryptjs` - для хэширования данных
* `winston` и `express-winston` - для настройки логгирования
* `jsonwebtoken` - для работы с токеном
* `cors` - для работы с CORS
* `dotenv` - для работы с переменными окружения
